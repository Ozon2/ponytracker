{% extends 'base_admin.html' %}

{% load staticfiles %}
{% load humanize %}
{% load accounts_tags %}
{% load bootstrap3 %}

{% block usertab %} class="active"{% endblock %}

{% block moretabs %}
<div class="pull-right">
  <a href="{% url 'add-user' %}" class="btn btn-success">Add user</a>
</div>
{% endblock %}

{% block tabcontent %}

<ul class="list-group">
  {% for user in users %}
  <li class="list-group-item">
    <div class="row">
      <div class="col-md-4">
        <h4 class="media-heading">{{ user.username }}</h4>
        {{ user.first_name }} {{ user.last_name }}
      </div>
      <div class="col-md-2" style="vertical-align: center; line-height:48px;">
        <span class="text-muted">{{ user.groups.count }} group{{ user.groups.count|pluralize }}</span>
      </div>
      <div class="col-md-2" style="vertical-align: center; line-height:48px;">
        <span class="text-muted">{{ user.teams.count }} team{{ user.teams.count|pluralize }}</span>
      </div>
      <div class="col-md-4" style="text-align: right; vertical-align: center; line-height:48px;">
        {% if user.is_active %}
        <a href="{% url 'disable-user' user.id %}" class="btn btn-default">disable</a>
        {% else %}
        <a href="{% url 'activate-user' user.id %}" class="btn btn-default">activate</a>
        {% endif %}
        <a href="{% url 'edit-user' user.id %}" class="btn btn-primary"><span class="glyphicon glyphicon-edit"></span> edit</a>
        <a href="#" data-item="user" data-action="{% url 'delete-user' user.id %}" data-toggle="modal" data-target="#confirm-delete" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span> delete</a>
      </div>
    </div>
  </li>
  {% endfor %}
</ul>

{% delete_modal %}

{% endblock %}

{% extends 'issue/project.html' %}

{% load issue_tags %}

{% block labeltab %} class="active"{% endblock %}

{% block content %}

<div class="panel panel-default">

  <div class="panel-heading clearfix">
    <h1>
      Labels
      {% if perm.manage_tags %}
      <div class="pull-right">
        <a href="{% url 'add-label' project.name %}" class="btn btn-success">New label</a>
      </div>
      {% endif %}
    </h1>
  </div>

  {% if labels.count %}
  <table class="table">
    {% for label in labels %}
    <tr>
      <td>
        <a href="{% same_label label %}" class="btn" style="{% label_style label %}"><span class="glyphicon glyphicon-tag" style="font-size: 100%;"></span> {{ label }}</a>
        {% if perm.manage_tags or perm.delete_tags %}
        <div class="pull-right">
          {% if perm.manage_tags %}
          <a href="{% url 'edit-label' project.name label.id %}" class="btn btn-primary"><span class="glyphicon glyphicon-edit"></span> Edit</a>
          {% endif %}
          {% if perm.delete_tags %}
          <a href="#" data-item="label" data-action="{% url 'delete-label' project.name label.id %}" data-toggle="modal" data-target="#confirm-delete" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Delete</a>
          {% endif %}
        </div>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>
  {% else %}
  <div class="panel-body">
    There aren't any labels for this repository quite yet.
  </div>
  {% endif %}

</div>

{% endblock %}
